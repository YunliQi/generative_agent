11.29/23 llama2-7b generated more fine-grained results than the original language model, it seems the advanced model can simulate the game better 
as it provides more details, like the specific conversation between two characters. the problem is llama is much slower than the other, maybe try
exllama

12.5/23 1. llama2 too big, improve the effeciency. (accumulate gpu usage) 2. wired description of each people, debug. 

solve the illusion (force_refresh = false, or it will summerize each character again on a higer level)

next: no observe same person (control interacted entity) done
temperarily solve/avoid relationship done
reaction pick done

next: avoid options
figure out memory mechanism (maybe use langsmith)

12.8/23:
problem1: haven't solved the options promblem (it may be caused by the llm itself, we can replace llm to chatgpt api to check)

trial 1. [replace relevant mem to static strings like (you hate all the people in the town)], will cause  very dull output: like all output
SAY: "what to say"

trial 2. [interactive relevant mem, like (what person you are most likely to interact with, and his action)], output will be more variant, but 1. 
it has hallucination: like make up the stories itself (in responding when asking entity action), or ask question to me like "what would you like to do"

problem2: out of gpu memery as the iterative going on

problem3: sometimes occure /mnt/iMVR/junde/miniconda3/lib/python3.11/site-packages/langchain/schema/vectorstore.py:313: UserWarning: Relevance scores must be between 0 and 1, got [(Document(page_content='Linene Graywind observed You are Linene Graywind.You are currently in Phandalin Town Square with the following description: Town square of the town of Phandalin..       It is currently 1:00. The following people are in this area: Toblen Stonehill, Daran Edermath, Harbin Wester, Terrill Bloodscar. You can interact with them. You know the following about people: Toblen Stonehill: Name: Toblen Stonehill (age: 69)\nInnate traits: mean, gossipy, arrogant, selfish\nToblen owns a trading post.. Daran Edermath: Name: Daran Edermath (age: 55)\nInnate traits: Stubborn, upright, inarticulate, calm\nDaran is a retired adventurer who lives in a tidy little cottage beside an apple orchard. A fit, silver-haired half-elf well over a hundred years old, Daran is a fighter who served as a marshal and herald for many years in the lands of the Dragon Coast, far to the southeast. Upon retiring, he returned to the Neverwinter region, his original home.. Harbin Wester: Name: Harbin Wester (age: 40)\nInnate traits: pompous\nHarbin is the townmaster of Phandalin. A pompous, old food. Phandalin has no functioning government, but the townsfolk elect someone to serve as townmaster each year. The townmaster serves as a judge in minor disputes and keeps any records that need to be kept.. Terrill Bloodscar: Name: Terrill Bloodscar (age: 16)\nInnate traits: ignorant\nTerrill is a human ruffian. He wears a grimy scarlet cloak. He is a member of the Redbrand ruffians. He doesn\'t like adventurers, and wants to rob and kill them. and reacted by SAY: "what to say"', metadata={'importance': 0.09, 'last_accessed_at': datetime.datetime(2023, 12, 8, 22, 18, 5, 205840), 'created_at': datetime.datetime(2023, 12, 8, 22, 18, 5, 205840), 'buffer_idx': 1}), 0.14145419731720088), (Document(page_content="You are Linene Graywind.You are currently in Phandalin Town Square with the following description: Town square of the town of Phandalin..       It is currently 1:00. The following people are in this area: Toblen Stonehill, Daran Edermath, Harbin Wester, Terrill Bloodscar. You can interact with them. You know the following about people: Toblen Stonehill: Name: Toblen Stonehill (age: 69)\nInnate traits: mean, gossipy, arrogant, selfish\nToblen owns a trading post.. Daran Edermath: Name: Daran Edermath (age: 55)\nInnate traits: Stubborn, upright, inarticulate, calm\nDaran is a retired adventurer who lives in a tidy little cottage beside an apple orchard. A fit, silver-haired half-elf well over a hundred years old, Daran is a fighter who served as a marshal and herald for many years in the lands of the Dragon Coast, far to the southeast. Upon retiring, he returned to the Neverwinter region, his original home.. Harbin Wester: Name: Harbin Wester (age: 40)\nInnate traits: pompous\nHarbin is the townmaster of Phandalin. A pompous, old food. Phandalin has no functioning government, but the townsfolk elect someone to serve as townmaster each year. The townmaster serves as a judge in minor disputes and keeps any records that need to be kept.. Terrill Bloodscar: Name: Terrill Bloodscar (age: 16)\nInnate traits: ignorant\nTerrill is a human ruffian. He wears a grimy scarlet cloak. He is a member of the Redbrand ruffians. He doesn't like adventurers, and wants to rob and kill them.", metadata={'importance': 0.09, 'last_accessed_at': datetime.datetime(2023, 12, 8, 22, 17, 42, 800040), 'created_at': datetime.datetime(2023, 12, 8, 22, 17, 40, 278601), 'buffer_idx': 0}), -0.07637942898783834), (Document(page_content="You are Linene Graywind.You are currently in Phandalin Town Square with the following description: Town square of the town of Phandalin..       It is currently 2:00. The following people are in this area: Toblen Stonehill, Daran Edermath, Harbin Wester, Terrill Bloodscar. You can interact with them. You know the following about people: Toblen Stonehill: Name: Toblen Stonehill (age: 69)\nInnate traits: mean, gossipy, arrogant, selfish\nToblen owns a trading post.. Daran Edermath: Name: Daran Edermath (age: 55)\nInnate traits: Stubborn, upright, inarticulate, calm\nDaran is a retired adventurer who lives in a tidy little cottage beside an apple orchard. A fit, silver-haired half-elf well over a hundred years old, Daran is a fighter who served as a marshal and herald for many years in the lands of the Dragon Coast, far to the southeast. Upon retiring, he returned to the Neverwinter region, his original home.. Harbin Wester: Name: Harbin Wester (age: 40)\nInnate traits: pompous\nHarbin is the townmaster of Phandalin. A pompous, old food. Phandalin has no functioning government, but the townsfolk elect someone to serve as townmaster each year. The townmaster serves as a judge in minor disputes and keeps any records that need to be kept.. Terrill Bloodscar: Name: Terrill Bloodscar (age: 16)\nInnate traits: ignorant\nTerrill is a human ruffian. He wears a grimy scarlet cloak. He is a member of the Redbrand ruffians. He doesn't like adventurers, and wants to rob and kill them.", metadata={'importance': 0.09, 'last_accessed_at': datetime.datetime(2023, 12, 8, 22, 20, 25, 913255), 'created_at': datetime.datetime(2023, 12, 8, 22, 20, 25, 913255), 'buffer_idx': 2}), -0.07776100268202546)]
